h1 Edit Route
form
  h3 {{ vm.formInfo.route }}
  div.methods-selector.form-group
    div.method.checkbox-inline(ng-repeat="method in vm.allMethods")
      label
        input(type="checkbox"
              ng-checked="!!vm.formInfo.methods[method]"
              ng-click="vm.toggleMethod(method)")
        {{ method }}

  div.checkbox-inline
    label
      input(type="checkbox"
            ng-checked="vm.formInfo.persistance"
            ng-click="vm.togglePersistance()")
      {{ 'Persistent' }}

  div.persistent-data-display(ng-show="vm.formInfo.persistance")
    label Persistent data
    p {{ vm.formInfo.data.length === 0 ? 'No data' : vm.formInfo.data | json }}

  div.method-body.form-group(ng-hide="vm.formInfo.persistance"
                             ng-repeat="method in vm.formInfo.methodKeys")
    label {{ method }}

    div.form-group
      label Status code
      input.form-control(type="number"
                         ng-model="vm.formInfo.methods[method].status")
    div.form-group
      label Headers
      textarea.form-control(rows="1"
                            ng-model="vm.formInfo.methods[method].headers")
    div.form-group
      label Response
      textarea.form-control(rows="3"
                            ng-model="vm.formInfo.methods[method].data")

  div.submit-area.form-group
    button.btn.btn-primary(ng-click="vm.updateRoute()") {{ vm.buttonStatus }}
    div.alert.alert-danger(ng-show="vm.errorMessage") {{ vm.errorMessage }}
